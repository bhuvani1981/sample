 # Check if remote tag exists before committing
    - name: promoteBuildArtifact | Check if remote tag exists
      command: git ls-remote --tags origin {{ release_tag }}
      register: tag_exists
      args:
        chdir: "{{ destination_directory }}/{{ github_repo_name }}"
      changed_when: false
      tags:
        - skip_ansible_lint

    # Pull latest changes before pushing to avoid rejection
    - name: promoteBuildArtifact | Pull latest changes
      command: git pull --rebase origin {{ target_branch | default('master') }}
      args:
        chdir: "{{ destination_directory }}/{{ github_repo_name }}"
      tags:
        - skip_ansible_lint
      
